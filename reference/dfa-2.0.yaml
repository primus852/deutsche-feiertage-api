openapi: 3.1.0
info:
  title: dfa
  version: '2.0'
  summary: Deutsche Feiertage API 2.0
  description: Request any date and see check if it is a german holiday
  contact:
    name: Torsten
    url: 'https://deutsche-feiertage-api.de'
    email: tow.berlin@gmail.com
servers:
  - url: 'http://localhost:3000'
paths:
  '/api/v2/{date}':
    parameters:
      - schema:
          type: string
          format: date
          pattern: '^\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$'
        name: date
        in: path
        required: true
        description: YYYY-MM-DD
    get:
      summary: Get a single Date
      tags:
        - single
      operationId: get-api-v2-date
      description: Get a single Date Info
      parameters:
        - schema:
            type: string
          in: query
          name: short
          description: Show only minimal output
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                description: ''
                type: object
                x-examples:
                  example-1:
                    result: result
                    message: message
                    data: data
                properties:
                  result:
                    type: string
                    enum:
                      - success
                    example: success
                  message:
                    type: string
                    minLength: 1
                    enum:
                      - HOLIDAY_LOADED
                  data:
                    $ref: '#/components/schemas/SingleDateShort'
                required:
                  - result
                  - message
                  - data
              examples:
                26.05.2022:
                  value:
                    result: success
                    message: HOLIDAY_LOADED
                    data:
                      holiday:
                        name: Christi Himmelfahrt
                        date: '2022-05-26'
                      isBundesweit: true
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                description: ''
                type: object
                x-examples:
                  example-1:
                    result: result
                    message: message
                properties:
                  result:
                    type: string
                    minLength: 1
                    enum:
                      - error
                    example: error
                  message:
                    type: string
                    minLength: 1
                    enum:
                      - INVALID_TOKEN
                      - TOKEN_NOT_FOUND
                    example: INVALID_TOKEN
                required:
                  - result
                  - message
              examples:
                Token not valid:
                  value:
                    result: error
                    message: INVALID_TOKEN
        '401':
          description: Unauthorized
          content:
            application/json:
              schema:
                description: ''
                type: object
                x-examples:
                  example-1:
                    result: error
                    message: mess
                properties:
                  result:
                    type: string
                    minLength: 1
                    enum:
                      - error
                    example: error
                  message:
                    type: string
                    minLength: 1
                    enum:
                      - UNAUTHORIZED
                    example: UNAUTHORIZED
                required:
                  - result
                  - message
              examples:
                Unauthorized:
                  value:
                    result: error
                    message: UNAUTHORIZED
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                description: ''
                type: object
                x-examples:
                  example-1:
                    result: result
                    message: message
                properties:
                  result:
                    type: string
                    minLength: 1
                    enum:
                      - error
                    example: error
                  message:
                    type: string
                    minLength: 1
                    enum:
                      - HOLIDAY_NOT_FOUND
                required:
                  - result
                  - message
              examples:
                Not in DB:
                  value:
                    result: error
                    message: HOLIDAY_NOT_FOUND
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                description: ''
                type: object
                x-examples:
                  example-1:
                    result: res
                    message: message
                properties:
                  result:
                    type: string
                    example: error
                  message:
                    type: string
                    minLength: 1
                    enum:
                      - UNKNOWN
                    example: UNKNOWN
                required:
                  - result
                  - message
              examples:
                Unkown Error:
                  value:
                    result: error
                    message: UNKNOWN
components:
  schemas:
    SingleDateShort:
      description: ''
      type: object
      x-examples:
        example-1:
          holiday:
            name: Himmelfahrt
            date: '2022-05-26'
          isBundesweit: true
      properties:
        holiday:
          type: object
          required:
            - name
            - date
          properties:
            name:
              type: string
              minLength: 1
              example: Christi Himmelfahrt
            date:
              type: string
              minLength: 1
              example: '2022-05-26'
              format: date
        isBundesweit:
          type: boolean
      required:
        - holiday
        - isBundesweit
      examples:
        - holiday:
            name: Christi Himmelfahrt
            date: '2022-05-26'
          isBundesweit: true
    ResultEnum:
      type: string
      title: ResultEnum
      enum:
        - success
        - error
      example: success
      description: Possible Result Strings
  securitySchemes:
    Free JWT:
      type: http
      scheme: bearer
      description: Global JWT for free Usage
  responses: {}
security:
  - Free JWT: []
